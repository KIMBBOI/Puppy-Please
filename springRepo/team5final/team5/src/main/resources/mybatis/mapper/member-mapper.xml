<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MemberMapper">
  	
  	<insert id = "join">
  		INSERT INTO MEMBER
  		(
  			MEMBER_NO
  			, ID
  			, PWD
  			, NICK
  			, NAME
  			, PHONE_NUMBER
  			, BIRTHDAY
  			, EMAIL
  		)
  		VALUES
  		(
  			SEQ_MEMBER_NO.NEXTVAL
  			, #{id}
  			, #{pwd}
  			, #{nick}
  			, #{name}
  			, #{phoneNumber}
  			, #{birthday}
  			, #{email}
  		)
  	</insert>
  	
  	<update id="quit">
  		UPDATE MEMBER
  		SET
  			DEL_YN = 'Y'
  			WHERE NO = #{no}
  	</update>
  	<select id = "login" resultType="MemberVo">
  		SELECT
  			NO
  			, ID
  			, PWD
  			, NICK
  			, ENROLL_DATE
  			, DEL_YN
  		FROM MEMBER
  		WHERE ID = #{id}
  		AND PWD = #{pwd}
  	</select>
  	<update id="edit">
  		UPDATE MEMBER
  			SET
  			<trim prefixOverrides=",">
  			<if test="pwd != null and pwd != ''">
  				PWD = #{pwd}
  			</if>
  			<if test="nick != null and nick != ''">
  				, NICK = #{nick}
  			</if>
  			</trim>
  			WHERE NO = #{no}
  			AND DEL_YN = 'N'
  	</update>
  	
  	
  
</mapper>